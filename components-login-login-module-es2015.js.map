{"version":3,"sources":["./src/app/components/loader/loader.component.html","./src/app/components/login/login.component.html","./src/app/components/loader/loader.component.sass","./src/app/components/loader/loader.component.ts","./src/app/components/login/login-routing.module.ts","./src/app/components/login/login.component.sass","./src/app/components/login/login.component.ts","./src/app/components/login/login.module.ts"],"names":[],"mappings":"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","file":"components-login-login-module-es2015.js","sourcesContent":["module.exports = \"<div *ngIf=\\\"display\\\" class=\\\"modal-backdrop\\\" style=\\\"opacity: 0.7;\\\">\\n  <div class=\\\"text-center spinner\\\">\\n    <div class=\\\"spinner-border text-light\\\" role=\\\"status\\\" style=\\\"width: 3rem; height: 3rem;\\\">\\n      <span class=\\\"sr-only\\\">Cargando</span>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"container\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-4 offset-sm-4 mt-5\\\">\\r\\n            <h1 class=\\\"text-center text-light mt-5\\\">S K I L E X</h1>\\r\\n            <form  [formGroup]=\\\"form\\\" (submit)=\\\"login()\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"text-light\\\">Usuario</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control form-control-sm text-light bg-dark border border-light\\\"\\r\\n                    placeholder=\\\"Escribe tu usuario de acceso\\\" formControlName=\\\"user\\\">\\r\\n                    <div *ngIf=\\\"form.controls.user.status === 'INVALID' && !form.pristine\\\">\\r\\n                        <p class=\\\"fs07 mt-1 ml-2 font-weight-bold text-danger\\\"\\r\\n                        *ngIf=\\\"form.controls.user.errors.required && form.controls.user.pristine\\\">\\r\\n                            El usuario es necesario\\r\\n                        </p>\\r\\n                        <p class=\\\"fs07 mt-1 ml-2 font-weight-bold text-danger\\\"\\r\\n                        *ngIf=\\\"form.controls.user.errors.minlength && !form.controls.user.pristine\\\">\\r\\n                            Mínimo {{ form.controls.user.errors.minlength.requiredLength }} caractéres, \\r\\n                            solo escribiste {{ form.controls.user.errors.minlength.actualLength }}\\r\\n                        </p>\\r\\n                    </div>\\r\\n                </div>\\r\\n    \\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"text-light\\\">Contraseña</label>\\r\\n                    <input type=\\\"password\\\" class=\\\"form-control form-control-sm text-light bg-dark border border-light\\\"\\r\\n                    placeholder=\\\"Ingresa tu contraseña\\\" formControlName=\\\"password\\\">\\r\\n                    <div *ngIf=\\\"form.controls.password.status === 'INVALID' && !form.pristine\\\">\\r\\n                            <p class=\\\"fs07 mt-1 ml-2 font-weight-bold text-danger\\\"\\r\\n                            *ngIf=\\\"form.controls.password.errors.required && form.controls.password.pristine\\\">\\r\\n                                Escribe la contraseña\\r\\n                            </p>\\r\\n                            <p class=\\\"fs07 mt-1 ml-2 font-weight-bold text-danger\\\"\\r\\n                            *ngIf=\\\"form.controls.password.errors.minlength && !form.controls.password.pristine\\\">\\r\\n                                Mínimo {{ form.controls.password.errors.minlength.requiredLength }} caractéres, \\r\\n                                solo escribiste {{ form.controls.password.errors.minlength.actualLength }}\\r\\n                            </p>\\r\\n                        </div>\\r\\n                </div>\\r\\n    \\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-block btn-sm btn-outline-dark text-light\\\">Ingresar</button>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<!--app-loader [loading]='loading.asObservable()'></app-loader-->\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbG9hZGVyL2xvYWRlci5jb21wb25lbnQuc2FzcyJ9 */\"","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-loader',\n  templateUrl: './loader.component.html',\n  styleUrls: ['./loader.component.sass']\n})\n\nexport class LoaderComponent implements OnInit, OnDestroy {\n  @Input() loading: Observable<boolean>;\n  public subscription: Subscription;\n  public display = false;\n  constructor() { }\n\n  ngOnInit() {\n    this.subscription = this.loading.subscribe( ( data: boolean ) => this.display = data );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\n\nconst routes: Routes = [\n  { path: '', component: LoginComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbG9naW4vbG9naW4uY29tcG9uZW50LnNhc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport LoginUser from './login.interface';\r\nimport { LoginService } from '../../services/login.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subject } from 'rxjs';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { Router } from '@angular/router';\r\nimport { Employee } from '../landing-page/employees/employees.interface';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.sass']\r\n})\r\n\r\nexport class LoginComponent implements OnInit {\r\n\r\n  public form: FormGroup;\r\n  public loading: Subject<boolean> = new Subject<boolean>();\r\n\r\n  constructor(\r\n    public sLogin: LoginService,\r\n    private tostador: ToastrService,\r\n    private sLs: LocalStorageService,\r\n    private router: Router) { } \r\n\r\n  ngOnInit() {\r\n    this.sLs.deleteData();\r\n    this.form = new FormGroup({\r\n      user:     new FormControl( '', [ Validators.required, Validators.minLength( 4 ) ] ),\r\n      password: new FormControl( '', [ Validators.required, Validators.minLength( 6 ) ] )\r\n    });\r\n  }\r\n\r\n  login(): void {\r\n    if ( this.form.status === 'INVALID' ) {\r\n      return;\r\n    } else {\r\n      this.loading.next( true );\r\n      this.form.value.password = this.form.value.password;\r\n      const user: LoginUser = this.form.value;\r\n      this.sLogin.getLogin( user )\r\n      .subscribe(\r\n        ( res: any ) => {\r\n          const employee: Employee = {\r\n            name: res.data[0].name,\r\n            last_name: res.data[0].last_name,\r\n            token: res.token,\r\n            id: res.data[0]._id,\r\n            photo: res.data[0].photo,\r\n            role: res.data[0].role.name,\r\n            area: res.data[0].area.name,\r\n            normalizedToLink: res.data[0].normalizedToLink,\r\n            hierarchy: res.data[0].role.hierarchy\r\n          };\r\n\r\n          this.sLs.setData( employee );\r\n          this.router.navigateByUrl('/');\r\n        },\r\n        ( err: any ) =>  this.tostador.error( err.error.message, '¡Error!' )\r\n      ).add( () => this.loading.next( false ) );\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { LoaderComponent } from '../loader/loader.component';\n\n\n@NgModule({\n  declarations: [LoginComponent, LoaderComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  exports: [ LoaderComponent ]\n})\nexport class LoginModule { }\n"],"sourceRoot":""}